<nav class="docs-sidebar">
  <a href="/docs/" class="home-link">
    <h2>RESTHeart v9</h2>
  </a>

  <div class="learning-paths mb-3">
    <h3>ðŸ“š Learning Paths</h3>
    <ul class="list-unstyled ps-2">
      <li><a href="/docs/#path-1-mongodb-api-user">MongoDB API User</a></li>
      <li><a href="/docs/#path-2-plugin-developer">Plugin Developer</a></li>
      <li><a href="/docs/#path-3-devops-site-reliability-engineer">DevOps / SRE</a></li>
      <li><a href="/docs/#path-4-graphql-developer">GraphQL Developer</a></li>
    </ul>
  </div>

  <hr>

  <div class="part">
    <a data-bs-toggle="collapse" href="#part1" role="button">
      <h3 class="mt-2">Foundations</h3>
    </a>
    <ul id="part1" class="collapse">
      <li><a href="/docs/foundations/introduction">Introduction</a></li>
      <li><a href="/docs/foundations/quick-start"><strong>Quick Start</strong></a></li>
      <li><a href="/docs/foundations/setup">Setup</a></li>
      <li><a href="/docs/foundations/setup-with-docker">Docker Setup</a></li>
      <li><a href="/docs/foundations/core-concepts">Core Concepts</a></li>
      <li><a href="/docs/foundations/security-fundamentals">Security Fundamentals</a></li>
      <li><a href="/docs/foundations/upgrade-to-v9"><strong>Upgrade to v9</strong></a></li>
    </ul>
  </div>

  <div class="part">
    <a data-bs-toggle="collapse" href="#part2" role="button">
      <h3 class="mt-2">MongoDB REST API</h3>
    </a>
    <ul id="part2" class="collapse">
      <li><a href="/docs/mongodb-rest/">Overview</a></li>
      <li><a href="/docs/mongodb-rest/tutorial"><strong>Tutorial</strong></a></li>
      <li><a href="/docs/mongodb-rest/read-docs">Reading Data</a></li>
      <li><a href="/docs/mongodb-rest/write-docs">Writing Data</a></li>
      <li><a href="/docs/mongodb-rest/aggregations">Aggregations</a></li>
      <li><a href="/docs/mongodb-rest/transactions">Transactions</a></li>
      <li><a href="/docs/mongodb-rest/files">File Storage</a></li>
      <li><a href="/docs/mongodb-rest/indexes">Indexes</a></li>
      <li><a href="/docs/mongodb-rest/json-schema-validation">Schema Validation</a></li>
      <li><a href="/docs/mongodb-rest/relationships">Relationships</a></li>
      <li><a href="/docs/mongodb-rest/etag">ETags</a></li>
      <li><a href="/docs/mongodb-rest/caching">Caching</a></li>
      <li><a href="/docs/mongodb-rest/read-write-concerns">Read/Write Concerns</a></li>
      <li><a href="/docs/mongodb-rest/dbs-collections">Databases & Collections</a></li>
      <li><a href="/docs/mongodb-rest/resource-uri">Resource URIs</a></li>
      <li><a href="/docs/mongodb-rest/representation-format">Response Format</a></li>
      <li><a href="/docs/mongodb-rest/csv">CSV Import</a></li>
      <li><a href="/docs/mongodb-rest/shard-keys">Shard Keys</a></li>
      <li><a href="/docs/mongodb-rest/sample-data">Sample Data</a></li>
    </ul>
  </div>

  <div class="part">
    <a data-bs-toggle="collapse" href="#part3" role="button">
      <h3 class="mt-2">GraphQL & WebSocket</h3>
    </a>
    <ul id="part3" class="collapse">
      <li class="subsection fw-bold">GraphQL API</li>
      <li><a href="/docs/graphql/">Overview</a></li>
      <li><a href="/docs/graphql/tutorial"><strong>Tutorial</strong></a></li>
      <li><a href="/docs/graphql/getting-started">Getting Started</a></li>
      <li><a href="/docs/graphql/graphql-apps">GraphQL Apps</a></li>
      <li><a href="/docs/graphql/schema">Schema Design</a></li>
      <li><a href="/docs/graphql/mappings">Mappings</a></li>
      <li><a href="/docs/graphql/resolvers">Resolvers</a></li>
      <li><a href="/docs/graphql/complex-app-example">Advanced Example</a></li>
      <li><a href="/docs/graphql/n-plus-one">Performance</a></li>
      <li><a href="/docs/graphql/best-practices">Best Practices</a></li>

      <li class="subsection fw-bold mt-2">WebSocket API</li>
      <li><a href="/docs/websocket/">Overview</a></li>
      <li><a href="/docs/websocket/tutorial"><strong>Tutorial</strong></a></li>
      <li><a href="/docs/websocket/change-streams">Change Streams</a></li>
      <li><a href="/docs/websocket/variables">Variables</a></li>
    </ul>
  </div>

  <div class="part">
    <a data-bs-toggle="collapse" href="#part4" role="button">
      <h3 class="mt-2">Security</h3>
    </a>
    <ul id="part4" class="collapse">
      <li><a href="/docs/security/overview">Overview</a></li>
      <li><a href="/docs/security/tutorial"><strong>Tutorial</strong></a></li>
      <li><a href="/docs/security/authentication">Authentication</a></li>
      <li><a href="/docs/security/authorization">Authorization</a></li>
      <li><a href="/docs/security/user-management">User Management</a></li>
      <li><a href="/docs/security/permissions">Permissions</a></li>
      <li><a href="/docs/security/how-clients-authenticate">Client Authentication</a></li>
      <li><a href="/docs/security/tls">TLS Configuration</a></li>
      <li><a href="/docs/security/security-hardening">Security Hardening</a></li>
      <li><a href="/docs/security/secure-connection-to-mongodb">Secure MongoDB Connection</a></li>
      <li><a href="/docs/security/other-security-plugins">Other Security Plugins</a></li>
    </ul>
  </div>

  <div class="part">
    <a data-bs-toggle="collapse" href="#part5" role="button">
      <h3 class="mt-2">Configuration & Deployment</h3>
    </a>
    <ul id="part5" class="collapse">
      <li><a href="/docs/deployment/configuration">Configuration</a></li>
      <li><a href="/docs/deployment/default-configuration">Default Configuration</a></li>
      <li><a href="/docs/deployment/graalvm">GraalVM Native</a></li>
      <li><a href="/docs/deployment/logging">Logging</a></li>
      <li><a href="/docs/deployment/monitoring">Monitoring</a></li>
      <li><a href="/docs/deployment/auditing">Auditing</a></li>
      <li><a href="/docs/deployment/clustering">Clustering</a></li>
      <li><a href="/docs/deployment/proxy">Proxying Requests</a></li>
      <li><a href="/docs/deployment/static-resources">Static Resources</a></li>
    </ul>
  </div>

  <div class="part">
    <a data-bs-toggle="collapse" href="#part6" role="button">
      <h3 class="mt-2">Framework</h3>
    </a>
    <ul id="part6" class="collapse">
      <li><a href="/docs/framework/overview">Overview</a></li>
      <li><a href="/docs/framework/core-concepts">Core Concepts</a></li>
      <li><a href="/docs/framework/tutorial"><strong>Tutorial</strong></a></li>
      <li><a href="/docs/framework/services">Services</a></li>
      <li><a href="/docs/framework/cors">CORS Handling</a></li>
      <li><a href="/docs/framework/interceptors">Interceptors</a></li>
      <li><a href="/docs/framework/providers">Providers</a></li>
      <li><a href="/docs/framework/initializers">Initializers</a></li>
      <li><a href="/docs/framework/deploy">Deployment</a></li>
      <li><a href="/docs/framework/javascript-plugins">Develop with JavaScript</a></li>

      <li class="subsection fw-bold mt-2">Security</li>
      <li><a href="/docs/framework/authentication-mechanisms">Auth Mechanisms</a></li>
      <li><a href="/docs/framework/authenticators">Authenticators</a></li>
      <li><a href="/docs/framework/authorizers">Authorizers</a></li>
      <li><a href="/docs/framework/token-managers">Token Managers</a></li>
    </ul>
  </div>

  <div class="part">
    <a data-bs-toggle="collapse" href="#part7" role="button">
      <h3 class="mt-2">RESTHeart Cloud</h3>
    </a>
    <ul id="part7" class="collapse">
      <li><a href="/docs/cloud/">Overview</a></li>
      <li><a href="/docs/cloud/getting-started">Getting Started</a></li>
      <li><a href="/docs/cloud/root-user-setup">Root User Setup</a></li>
      <li><a href="/docs/cloud/ui-overview">UI Overview</a></li>
      <li><a href="/docs/cloud/plans">Dedicated vs. Free/Shared</a></li>

      <li class="subsection fw-bold mt-2">Data Management</li>
      <li><a href="/docs/cloud/managing-data">Collections & Documents</a></li>
      <li><a href="/docs/cloud/aggregations">Aggregation Pipelines</a></li>
      <li><a href="/docs/cloud/schemas">JSON Schema Validation</a></li>
      <li><a href="/docs/cloud/change-streams">WebSocket Change Streams</a></li>

      <li class="subsection fw-bold mt-2">Users & Access Control</li>
      <li><a href="/docs/cloud/managing-users">Managing Users</a></li>
      <li><a href="/docs/cloud/managing-permissions">Managing Permissions (ACL)</a></li>
      <li><a href="/docs/cloud/users-and-permissions">Users & Permissions (API)</a></li>

      <li class="subsection fw-bold mt-2">Features</li>
      <li><a href="/docs/cloud/graphql">GraphQL Applications</a></li>
      <li><a href="/docs/cloud/webhooks">Webhooks</a></li>

      <li class="subsection fw-bold mt-2">Sophia AI</li>
      <li><a href="/docs/cloud/sophia/">Overview</a></li>
      <li><a href="/docs/cloud/sophia/setup">Setup</a></li>
      <li><a href="/docs/cloud/sophia/user-guide">User Guide</a></li>
      <li><a href="/docs/cloud/sophia/administrator-guide">Admin Guide</a></li>
      <li><a href="/docs/cloud/sophia/api-documentation">API Docs</a></li>

      <li class="subsection fw-bold mt-2">Examples</li>
      <li><a href="/docs/cloud/full-stack-example">Full-Stack Example</a></li>
      <li><a href="/docs/cloud/examples">Examples</a></li>
    </ul>
  </div>

  <div class="part">
    <a data-bs-toggle="collapse" href="#part8" role="button">
      <h3 class="mt-2">Reference</h3>
    </a>
    <ul id="part8" class="collapse">
      <li><a href="/docs/reference/faq">FAQ</a></li>
      <li><a href="/docs/reference/performances">Performance</a></li>
      <li><a href="/docs/reference/example-webapps">Example Apps</a></li>
      <li><a href="/docs/reference/blog-posts">Blog Posts</a></li>
      <li><a href="/docs/reference/enterprise-license">Enterprise License</a></li>
    </ul>
  </div>
</nav>

<style>
.collapsing {
    -webkit-transition: none;
    transition: none;
    display: none;
}

.subsection {
    font-size: 0.9em;
    color: #666;
    margin-top: 0.5rem;
}

.learning-paths {
    background-color: rgba(248, 249, 250, 0.1);
    padding: 1rem;
    border-radius: 0.25rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}
</style>

<script type="text/javascript">
    // on page load, show the menu element of the current page and highlight the current page link
    const menu = '{{ page.menu }}';
    const currentPath = window.location.pathname;

    if (menu) {
        // Map menu values to new parts
        const menuMapping = {
            'overview': 'part1',        // Foundations
            'mongodb': 'part2',         // MongoDB REST API
            'graphql': 'part3',         // GraphQL & WebSocket
            'security': 'part4',        // Security
            'setup': 'part5',           // Deployment
            'framework': 'part6',       // Framework
            'cloud': 'part7',           // RESTHeart Cloud
            'reference': 'part8'        // Reference
        };

        const partId = menuMapping[menu] || menu;
        const menuElement = document.getElementById(partId);
        if (menuElement) {
            const bsCollapse = new bootstrap.Collapse(menuElement, {
                show: true
            });
        }
    }

    // Update link highlighting to use vanilla JS
    document.querySelectorAll('a').forEach(function(link) {
        const href = link.getAttribute('href');
        if (href === currentPath || `${href}/` === currentPath) {
            link.classList.add('active');
        }
    });
</script>
<style>
  a:hover {
    text-decoration: none;
  }

  .collapse a.active {
        font-weight: bold;
        border-bottom: 1px #f8a839 solid;
    }
</style>
