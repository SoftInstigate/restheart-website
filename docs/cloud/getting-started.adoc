---
title: RESTHeart Cloud - Getting Started
layout: docs-adoc
menu: cloud
liquid: true
---

Welcome to RESTHeart Cloud's interactive documentation! Configure your connection details below to see personalized examples throughout the documentation.

++++
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<script src="/js/interactive-docs-config.js"></script>
{% include interactive-docs-config.html %}
++++

== Getting Started

Now that you've configured your connection details, you can follow along with the examples below. All code snippets will automatically use your configuration.

== Basic Operations

=== Creating a Collection

Create a new collection using `PUT /<coll-name>`

==== cURL

[source,bash]
----
curl -X PUT [INSTANCE-URL]/mydb/mycollection \
  -H "Authorization: Basic [BASIC-AUTH]"
----

==== HTTPie

[source,bash]
----
http PUT [INSTANCE-URL]/mydb/mycollection \
  Authorization:"Basic [BASIC-AUTH]"
----

==== JavaScript

[source,javascript]
----
const response = await fetch('[INSTANCE-URL]/mydb/mycollection', {
  method: 'PUT',
  headers: {
    'Authorization': 'Basic [BASIC-AUTH]'
  }
});
----

=== Inserting Documents

Insert a document using POST:

==== cURL

[source,bash]
----
curl -X POST [INSTANCE-URL]/mydb/mycollection \
  -H "Authorization: Basic [BASIC-AUTH]" \
  -H "Content-Type: application/json" \
  -d '{"name": "John", "age": 30}'
----

==== HTTPie

[source,bash]
----
http POST [INSTANCE-URL]/mydb/mycollection \
  Authorization:"Basic [BASIC-AUTH]" \
  name="John" age:=30
----

==== JavaScript

[source,javascript]
----
const response = await fetch('[INSTANCE-URL]/mydb/mycollection', {
  method: 'POST',
  headers: {
    'Authorization': 'Basic [BASIC-AUTH]',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    name: 'John',
    age: 30
  })
});
----

=== Querying Documents

Query documents using the `filter={<query>}` query parameter.  :

==== cURL

[source,bash]
----
curl -X GET "[INSTANCE-URL]/mydb/mycollection?filter={'age':{\$gt:25}}" \
  -H "Authorization: Basic [BASIC-AUTH]"
----

==== HTTPie

[source,bash]
----
http GET "[INSTANCE-URL]/mydb/mycollection" \
  Authorization:"Basic [BASIC-AUTH]" \
  filter=="{'age':{\$gt:25}}"
----

==== JavaScript

[source,javascript]
----
const filter = encodeURIComponent("{'age':{\$gt:25}}");
const response = await fetch(`[INSTANCE-URL]/mydb/mycollection?filter=${filter}`, {
  headers: {
    'Authorization': 'Basic [BASIC-AUTH]'
  }
});
----

== Advanced Operations

=== Bulk Operations

Perform bulk insert POSTing an array of documents.

==== cURL

[source,bash]
----
curl -X POST [INSTANCE-URL]/mydb/mycollection \
  -H "Authorization: Basic [BASIC-AUTH]" \
  -H "Content-Type: application/json" \
  -d '[
    {"name": "Alice", "age": 25},
    {"name": "Bob", "age": 35},
    {"name": "Charlie", "age": 28}
  ]'
----

==== HTTPie

[source,bash]
----
echo '[
  {"name": "Alice", "age": 25},
  {"name": "Bob", "age": 35},
  {"name": "Charlie", "age": 28}
]' | http POST [INSTANCE-URL]/mydb/mycollection \
  Authorization:"Basic [BASIC-AUTH]" \
  Content-Type:application/json
----

==== JavaScript

[source,javascript]
----
const documents = [
  {name: 'Alice', age: 25},
  {name: 'Bob', age: 35},
  {name: 'Charlie', age: 28}
];

const response = await fetch('[INSTANCE-URL]/mydb/mycollection', {
  method: 'POST',
  headers: {
    'Authorization': 'Basic [BASIC-AUTH]',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(documents)
});
----

=== Aggregation Pipeline

==== cURL

[source,bash]
----
curl -X POST [INSTANCE-URL]/mydb/mycollection/_aggrs/pipeline \
  -H "Authorization: Basic [BASIC-AUTH]" \
  -H "Content-Type: application/json" \
  -d '[
    {"$group": {"_id": null, "avgAge": {"$avg": "$age"}}},
    {"$project": {"_id": 0, "averageAge": "$avgAge"}}
  ]'
----

==== HTTPie

[source,bash]
----
echo '[
  {"$group": {"_id": null, "avgAge": {"$avg": "$age"}}},
  {"$project": {"_id": 0, "averageAge": "$avgAge"}}
]' | http POST [INSTANCE-URL]/mydb/mycollection/_aggrs/pipeline \
  Authorization:"Basic [BASIC-AUTH]" \
  Content-Type:application/json
----

==== JavaScript

[source,javascript]
----
const pipeline = [
  {$group: {_id: null, avgAge: {$avg: '$age'}}},
  {$project: {_id: 0, averageAge: '$avgAge'}}
];

const response = await fetch('[INSTANCE-URL]/mydb/mycollection/_aggrs/pipeline', {
  method: 'POST',
  headers: {
    'Authorization': 'Basic [BASIC-AUTH]',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(pipeline)
});
----
