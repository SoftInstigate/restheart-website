---
title: Try RESTHeart Online
layout: docs
---

<div markdown="1" class="d-none d-xl-block col-xl-2 order-last bd-toc">

-   [A Simple Web Application](#a-simple-web-application)
-   [Try the API online](#try-the-api-online)

</div>
<div markdown="1" class="col-12 col-md-9 col-xl-8 py-md-3 bd-content">

{% include docs-head.html %}

{: mt-4}
## A Simple Web Application

This is a very simple Web Application hosted at StackBlitz. It shows a table of *message* documents stored in a MongoDB collection and provides a simple form to create a new *message* document.

{: .bs-callout.bs-callout-info}
Click on `Editor` button and open the code of `service.ts`. You'll see how is easy interacting with the RESTHeart API!

<div id="demo"></div>

<script type="text/javascript">
StackBlitzSDK.embedProjectId('demo', 'restheart-ng-demo', {
  openFile: 'src/app/service.ts',
  view: 'preview',
  width: "100%",
  height: "660px",
  hideNavigation: true,
  forceEmbedLayout: true
});
</script>

## Try the API online

You can use the online demo service so you can play with API without the need to install MongoDB and RESTHeart.

The online demo API exposes one single collection at `https://demo.restheart.org/messages` without requiring authentication.


<div class="row mt-3">
    <div class="col-lg-3 pt-2">
        <p><strong>Insert or update</strong> the document with _id <i>docid</i><br />
        <code>PUT /db/coll/docid</code></p>
    </div>
    <div class="col-lg-9">
{% highlight bash %}

$ curl -i -H "Content-Type:application/json" -X PUT https://demo.restheart.org/messages/docid -d '{"from":"you", "message":"RESTHeart rocks!!" }'

HTTP/1.1 201 Created

{% endhighlight %}
        <a href="http://restninja.io/share/607325d540eaa2eac909116d619be26ad21a9055/60" class="btn btn-sm float-right" target="_blank">Open on rest ninja</a>
    </div>
</div>

<div class="row mt-3">
    <div class="col-lg-3 pt-2">
        <p><strong>Get</strong> the created document</p>
    </div>
    <div class="col-lg-9">
{% highlight bash %}

$ curl -i https://demo.restheart.org/messages/docid

{
	"_id": "docid",
	"from": "you",
	"message": "RESTHeart rocks"
}

{% endhighlight %}
    <a href="https://restninja.io/share/7da53c179386d7df995c1e5574984d700cc0aef7/4" class="btn btn-sm float-right" target="_blank">Open on rest ninja</a>
    </div>
</div>

<div class="row mt-3">
    <div class="col-lg-3 pt-2">
        <p><strong>Create</strong> a second document with <code>POST /db/coll</code></p>
        <p>If the _id is not specified in the request body, it will be autogenerated as a new ObjectId. The <code>Location</code> response header specifies the URL of the new document.</p>
    </div>
    <div class="col-lg-9">
{% highlight bash %}

$ curl -i -H "Content-Type:application/json" -X POST https://demo.restheart.org/messages -d '{"from":"you", "message": "MongoDB rocks as well!"}'

HTTP/1.1 201 Created
Location: https://demo.restheart.org/messages/563a40d6e4b0ef984cae182b
...

{% endhighlight %}
    <a href="http://restninja.io/share/1fd808b1f51037c8b2b36d43d6bc315a0325029c/3" class="btn btn-sm float-right" target="_blank">Open on rest ninja</a>
    </div>
</div>

<div class="row mt-3">
    <div class="col-lg-3 pt-2">
        <p><strong>Update</strong> the first document with <code>PATCH /db/coll/docid</code></p>
        <p>This request uses the dot notation and the <code>$currentDate</code> operator. These are available in all write requests!</p>
    </div>
    <div class="col-lg-9">
{% highlight bash %}

$ curl -i -H "Content-Type:application/json" -X PATCH https://demo.restheart.org/messages/docid -d '{"$currentDate": { "header.timestamp": true}}'

HTTP/1.1 200 OK
...

{% endhighlight %}
    <a href="http://restninja.io/share/69ddd0c6d311ae99d6596f46d092556f324635d2/2" class="btn btn-sm float-right" target="_blank">Open on rest ninja</a>
    </div>
</div>

<div class="row mt-3">
    <div class="col-lg-3 pt-2">
        <p><strong>Get</strong> the updated document again.</p>
        <p>The returned representation contains all the document properties plus few more. The <code>_etag</code> is updated automatically by RESTHeart for Web caching and ghost writes management.</p>
    </div>
    <div class="col-lg-9">
{% highlight bash %}

$ curl -i https://demo.restheart.org/messages/docid

{
	"_id": "docid",
	"from": "you",
	"message": "RESTHeart rocks!!",
	"header": {
		"timestamp": {
			"$date": 1475598488601
		}
	}
}

{% endhighlight %}
    <a href="https://restninja.io/share/7da53c179386d7df995c1e5574984d700cc0aef7/5" class="btn btn-sm float-right" target="_blank">Open on rest ninja</a>
    </div>
</div>

<div class="row mt-3">
    <div class="col-lg-3 pt-2">
        <p><strong>Find</strong> documents via query.</p>
        <p>The <code>filter</code> query parameter allows to specify any MongoDB query.</p>
        <p>This instance of RESTHeart is configured to always add the <code>np</code> query parameter to the request; it gets rid of the collection properties and 
        returns just an array of documents.</p>
    </div>
    <div class="col-lg-9">
{% highlight bash %}

$ curl -G --data-urlencode "filter={'from':'you'}" https://demo.restheart.org/messages?pagesize=2

[   {
		"_id": "docid",
		"from": "you",
		"message": "RESTHeart rocks!",
		"header": {
			"timestamp": {
				"$date": 1475598488601
			}
		}
	}, {
		"_id": {
			"$oid": "563a40d6e4b0ef984cae182b"
		},
		"from": "you",
		"message": "MongoDB rocks as well!"
	}
]

{% endhighlight %}
    <a href="http://restninja.io/share/694a0a5c4ae939230544d6dee093d72d27ae2dae/10" class="btn btn-sm float-right mb-2" target="_blank">Open on rest ninja</a>
    </div>
</div>

</div>
