<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->

<html lang="en">
<!--<![endif]-->
<head>
   <meta charset="utf-8">
   <title>RESTHeart - GraalVM</title>
   <meta name="description" content="Low code API Framework for MongoDB">
   <meta name="author" content="SoftInstigate srl">
   <meta name="keywords" content="restheart,mongodb,rest,,graphql,api,http,microservice,java,framework">
   <!-- Open Graph -->
   <meta property="og:type" content="website">
   <meta property="og:url" content="https://restheart.org">
   <meta property="og:logo" content="/images/restheart logo.svg">
   <meta property="og:title" content="RESTHeart - GraalVM">
   <meta property="og:description" content="Low code API Framework for MongoDB">
   <meta property="og:locale" content="en">
   
   <!-- avoid search engine indexing of old documentation pages  -->
   <meta name="robots" content="noindex,nofollow">
   
   <!-- Mobile Specific Metas -->
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <!-- icon fonts -->
   <script src="/js/fontawesome.com_c39cf060d4.js"></script>
   <link type="text/css" rel="stylesheet" href="/font-icons/custom-icons/css/custom-icons.css">
   <link type="text/css" rel="stylesheet" href="/font-icons/custom-icons/css/custom-icons-ie7.css">
   <!-- Custom css -->
   <link rel="stylesheet" type="text/css" href="/css/main.css">
   <!-- js ================================================== -->
   <script src="https://code.jquery.com/jquery.min.js"></script>
   <script src="/assets/js/bootstrap.bundle.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script>
   <script src="https://unpkg.com/@stackblitz/sdk/bundles/sdk.umd.js"></script>
   <script src="/js/carousel.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.js"></script>
   <!-- Github buttons. -->
   <script async defer src="https://buttons.github.io/buttons.js"></script>
   <!--iframeResizer-->
  <script src="/assets/js/iframe-resizer.parent.js"></script>
   <!-- Favicons ================================================== -->
  <link rel="icon" type="image/svg+xml" href="/images/restheart logo.svg" />
  <link rel="shortcut icon" href="/images/favicon/favicon.png" />
  <link rel="canonical" href="https://restheart.org/docs/v5/graalvm">
  <link rel="alternate" type="application/atom+xml" title="RESTHeart - API Framework" href="https://restheart.org/feed.xml" />
  <script defer data-domain="restheart.org" src="https://plausible.io/js/script.js"></script>
</head>


<body>
    <header id="mainHeader" class="fixed-top background-primary" role="banner">
    <div class="container-fluid">
        <nav class="navbar navbar-default scrollMenu navbar-expand-lg" role="navigation">
            <a class="navbar-brand" href="/">
                <h2 class="text-white"><strong>REST</strong>Heart</h2>
            </a>
            <!-- Place this tag where you want the button to render. -->
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target=".navbar-ex1-collapse"><span
                    class="sr-only">Toggle navigation</span> &#x2630;</button>
            <div class="collapse navbar-collapse navbar-ex1-collapse background-primary" id="scrollTarget">
                <ul class="nav navbar-nav ml-md-auto">
                    <!-- only bounce slack button on home page-->
                    
                    

                    <li class="nav-item ml-1 ml-lg-2 ml-xl-4 mb-0 pb-0 ">
                        <a class="github-button" href="https://github.com/SoftInstigate/restheart" data-size="large" data-show-count="true" aria-label="Star SoftInstigate/restheart on GitHub"></a>
                    </li>
                    <li class="nav-item"><a class="ml-1 ml-lg-2 ml-xl-4" href="/docs/sophia">Ask Sophia</a></li>
                    <li class="nav-item"><a class="ml-1 ml-lg-2 ml-xl-4" href="/docs">Docs</a></li>
                    <li class="nav-item"><a class="ml-1 ml-lg-2 ml-xl-4" href="/docs/faq">FAQ</a></li>
                    <li class="nav-item"><a class="ml-1 ml-lg-2 ml-xl-4" href="/docs/setup-with-docker/">GET</a></li>
                    <li class="nav-item"><a class="ml-1 ml-lg-2 ml-xl-4" href="/contact">Contacts</a></li>
                </ul>
            </div>
        </nav>
    </div>
</header>

<div class="alert alert-warning m-0 text-center" role="alert">
    <strong>RESTHeart 8 is the current stable release. Switch documentation to <a href="/docs">v8</a></strong>
</div>



<a  target="_blank" class="gitter-open-chat-button fixed-bottom-right" href="https://join.slack.com/t/restheart/shared_invite/zt-1olrhtoq8-5DdYLBWYDonFGEALhmgSXQ"></a>


    <div class="page-content">
        <div class="container-fluid imgHover doc">
    <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 bd-sidebar">
            <div class="bd-sidebar__head">
                <div class="dropdown d-flex justify-content-center w-100">
                    <button class="btn btn-secondary dropdown-toggle w-100 p-1 mb-2" type="button"
                        id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        v5
                    </button>
                    <div class="dropdown-menu mt-2 mr-1 pb-2" aria-labelledby="dropdownMenuButton">
                      <a class="dropdown-item" href="/docs">
                            
                            v8
                            
                        </a>
                        <a class="dropdown-item" href="/docs/v7">
                            
                            v7
                            
                        </a>
                        <a class="dropdown-item" href="/docs/v6">
                            
                            v6
                            
                        </a>
                        <a class="dropdown-item" href="/docs/v5">
                            
                            <strong>v5</strong>
                            
                        </a>
                        <a class="dropdown-item" href="/docs/v4">
                            
                            v4
                            
                        </a>
                        <a class="dropdown-item" href="/docs/v3">
                            
                            v3
                            
                        </a>
                    </div>
                </div>
                <form action="https://www.google.com/search" class="form bd-sidebar__search d-flex" method="get"
                    name="searchform" target="_blank">
                    <input name="sitesearch" type="hidden" value="restheart.org/docs">
                    <input autocomplete="on" class="form-control input-sm search bd-sidebar__input" name="q"
                        placeholder="Search" required="required" type="text">
                    <button class="bd-sidebar__submit" type="submit">
                        <svg width="16" height="16">
                            <use xlink:href="/images/sprite.svg#search" /></svg>
                    </button>
                </form>
                <div class="d-flex flex-wrap justify-content-between align-items-center">
                    <a href="https://github.com/SoftInstigate/restheart-website/edit/master/docs/v5/graalvm.md"
                        class="small mt-2 mb-1 ml-lg-auto"><i class="icon-pencil"></i>Edit Page</a>
                    <button class="btn btn-link bd-sidebar__toggle navbar-expand-md p-0 mb-1 d-md-none" type="button"
                        data-toggle="collapse" data-target="#bd-sidebar__menu" aria-controls="bd-sidebar__menu"
                        aria-expanded="false" aria-label="Toggle docs navigation">
                        Table of Contents
                        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 30 30" width="30" height="30"
                            focusable="false">
                            <title>Menu</title>
                            <path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10"
                                d="M4 7h22M4 15h22M4 23h22" />
                        </svg>
                    </button>
                </div>
            </div>

            <div class="bd-sidebar__menu collapse d-md-block" id="bd-sidebar__menu">
                
                    <h2 id="get-started"><a href="/docs/v5">Get Started</a></h2>
<ul>
    <li><a href="/docs/v5/setup">Setup</a></li>
    <li><a href="/docs/v5/try">Try RESTHeart online</a></li>
    <li><a href="/docs/v5/tutorial">Absolute Beginner Tutorial</a></li>
    <li><a href="/docs/v5/video-tutorials"><strong>Video Tutorials</strong></a></li>
    <li><a href="/docs/v5/quick-reference">Quick Reference</a></li>
    <li><a href="/docs/v5/resource-uri">Resource URIs</a></li>
    <li><a href="/docs/v5/graalvm">GraalVM</a></li>
    <li><a href="/docs/v5/representation-format">Representation Format</a></li>
    <li><a href="/docs/v5/logging">Logging</a></li>
    <li><a href="/docs/v5/blog-posts">Other tutorials</a></li>
    <li><a href="/docs/v5/performances">Performances</a></li>
    <li><a href="/docs/v5/clustering">Clustering & Load Balancing</a></li>
    <li><a href="/docs/v5/enterprise-license">Enterprise License</a></li>
</ul>

<h2 id="upgrade-to-v5"><a href="/docs/v5/upgrade-to-v5">Upgrade to v5</a></h2>
<h2 id="roadmap"><a href="/docs/v5/roadmap">Roadmap</a></h2>

<h2 id="content-api">Content API</h2>
<ul>
    <li><a href="/docs/v5/read-docs">Read JSON Documents</a></li>
    <li><a href="/docs/v5/write-docs">Write JSON Documents</a></li>
    <li><a href="/docs/v5/files">Binary Files with GridFS</a></li>
    <li><a href="/docs/v5/aggregations">Aggregations</a></li>
    <li><a href="/docs/v5/csv">Upload CSV files</a></li>
    <li><a href="/docs/v5/json-schema-validation">JSON Schema Validation</a></li>
    <li><a href="/docs/v5/change-streams">Change Streams</a></li>
    <li><a href="/docs/v5/transactions">Transactions</a></li>
</ul>

<h2 id="mgmt-api">Management API</h2>
<ul>
    <li><a href="/docs/v5/mgmt/dbs-collections">Databases and Collections</a></li>
    <li><a href="/docs/v5/mgmt/indexes">Indexes</a></li>
    <li><a href="/docs/v5/mgmt/relationships">Relationships</a></li>
</ul>

<h2 id="security">Securing Requests</h2>
<ul>
    <li><a href="/docs/v5/security/overview">Overview</a></li>
    <li><a href="/docs/v5/security/authentication">Authentication</a></li>
    <li><a href="/docs/v5/security/authorization">Authorization</a></li>
    <li><a href="/docs/v5/security/user-management">User Management</a></li>
    <li><a href="/docs/v5/security/tls">Configure TLS</a></li>
    <li><a href="/docs/v5/security/secure-connection-to-mongodb">Secure connection to MongoDB</a></li>
    <li><a href="/docs/v5/security/how-clients-authenticate">How Clients Authenticate</a></li>
</ul>

<h2 id="plugins">Plugins</h2>
<ul>
    <li><a href="/docs/v5/plugins/overview">Overview</a></li>
    <li><a href="/docs/v5/plugins/dev-env">Development Environment Setup</a></li>
    <li><a href="/docs/v5/plugins/core-plugins">Core Plugins</a></li>
    <li><a href="/docs/v5/plugins/security-plugins">Security Plugins</a></li>
    <li><a href="/docs/v5/plugins/deploy">How to deploy a Plugin</a></li>
</ul>

<h2 id="other-fatures">Other Features</h2>
<ul>
    <li><a href="/docs/v5/proxy">Proxying requests</a></li>
    <li><a href="/docs/v5/static-resources">Serving static resources</a></li>
    <li><a href="/docs/v5/etag">ETag</a></li>
    <li><a href="/docs/v5/cors-support">CORS Support</a></li>
    <li><a href="/docs/v5/shard-keys">Shard Keys</a></li>
    <li><a href="/docs/v5/speedup-requests-with-cursor-pools">Cursor Pools</a></li>
    <li><a href="/docs/v5/monitoring">Monitoring</a></li>
    <li><a href="/docs/v5/auditing">Auditing</a></li>
</ul>
                
            </div>
        </div>
        <div class="d-none d-xl-block col-xl-2 order-last bd-toc">

  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#why-graalvm">Why GraalVM</a></li>
    <li><a href="#install-the-graalvm">Install the GraalVM</a></li>
    <li><a href="#run-restheart-with-graalvm">Run RESTHeart with GraalVM</a></li>
    <li><a href="#build-restheart-with-default-plugins-as-native-image">Build RESTHeart with default plugins as native image</a></li>
    <li><a href="#build-restheart-with-custom-plugins-as-native-image">Build RESTHeart with custom plugins as native image</a></li>
    <li><a href="#a-docker-image-to-build-linux-native-images">A docker image to build Linux native images</a></li>
  </ul>

</div>

<div class="col-12 col-md-9 col-xl-8 py-md-3 bd-content">

  <div class="docs-head d-flex align-items-center justify-content-between">
    <h2 class="d-flex align-items-center m-0 pr-3">
        <span>GraalVM</span>
    </h2>
</div>

  <h2 id="introduction">Introduction</h2>

  <p><a href="https://www.graalvm.org/">GraalVM</a> is a new virtual machine from Oracle that supports a polyglot runtime environment and the ability to compile Java applications to native images.</p>

  <p>RESTHeart fully supports the GraalVM:</p>

  <ul>
    <li>you can run RESTHeart using the GraalVM</li>
    <li>starting from v5.2, you can build RESTHeart (and your custom plugins) to a native image using GraalVM’s <code class="language-plaintext highlighter-rouge">native-image</code> tool</li>
  </ul>

  <h2 id="why-graalvm">Why GraalVM</h2>

  <p>GraalVM provides advanced optimizing compiler that generates fast lean code which requires fewer compute resources and allows Ahead-of-Time Compilation to build
Native binaries that start up instantly and deliver peak performance with no warm up time.</p>

  <div class="row mb-4">
    <div class="col-6 text-center"><strong>Startup time</strong></div>
    <div class="col-6 text-center"><strong>Memory Footprint</strong></div>
</div>
  <div class="row">
<div class="col-6"><img class="img-fluid mx-auto d-block" style="max-width: 65%" src="https://www.graalvm.org/resources/img/home/perf.png" /></div>
<div class="col-6"><img class="img-fluid mx-auto d-block" style="max-width: 65%" src="https://www.graalvm.org/resources/img/home/mem.png" /></div>
</div>

  <p class="bs-callout bs-callout-info mt-3 small">Images from graalvm.org website.</p>

  <h3 id="benefits-of-running-restheart-with-the-graalvm">Benefits of running RESTHeart with the GraalVM</h3>

  <p>The GraalVM is faster than OpenJDK and it is also a polyglot runtime environment, so that you can seamlessly use multiple languages to implement RESTHeart plugins.</p>

  <p class="bs-callout bs-callout-info">In the v5.2 product line we will progressively leverage the GraalVM to allow you to develop plugins, such as <a href="/docs/plugins/core-plugins/#services">services</a> and <a href="https://restheart.org/docs/plugins/core-plugins/#interceptors">interceptors</a> by just defining JavaScript lambda functions.</p>

  <h3 id="benefits-of-running-restheart-as-a-native-image">Benefits of running RESTHeart as a native image</h3>

  <p>Building a RESTHeart application to native image provides multiple advantages, including faster startup time and smaller memory footprint.</p>

  <p class="bs-callout bs-callout-info">A <em>RESTHeart application</em> is a bundle of RESTHeart core and plugins. The plugins can include the one shipped with RESTHeart (<code class="language-plaintext highlighter-rouge">restheart-mongodb.jar</code> and <code class="language-plaintext highlighter-rouge">restheart-security.jar</code>) and custom plugins that implement your application logic.</p>

  <p>The following table compares RESTHeart (with default plugins) running on a MacBook Pro with OpenJDK, GraalVM CE and GraalVM CE native image.</p>

  <table class="table">
    <thead>
      <tr>
        <th> </th>
        <th>OpenJDK</th>
        <th>GraalVM CE</th>
        <th>GraalVM CE native</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>startup time</td>
        <td>2441ms</td>
        <td>2042ms</td>
        <td>249ms</td>
      </tr>
      <tr>
        <td>memory</td>
        <td>487Mbyte</td>
        <td>761Mbyte</td>
        <td>279Mbyte</td>
      </tr>
      <tr>
        <td>integration test execution time</td>
        <td>63,503s</td>
        <td>57,292s</td>
        <td>52,518s</td>
      </tr>
    </tbody>
  </table>

  <p><img class="img-fluid" src="/images/graalvm-benchmark.png" /></p>

  <p>The numbers clearly show that running RESTHeart as a native image is ideal for microservices and clustering. With instant startup time and smaller memory footprint you can run multiple instances of RESTHeart Docker images and also better support dynamic scaling.</p>

  <p class="bs-callout bs-callout-warning">In some use cases, native image might result in slightly worse peak performance. Read <a href="https://stackoverflow.com/questions/59488654/does-graalvm-native-image-increase-overall-application-performance-or-just-reduc">this great article</a> for more information. The fact that peak performances might be worse, is well compensated by the ability to run more RESTHeart instances in parallel due to much smaller memory footprint.</p>

  <h2 id="install-the-graalvm">Install the GraalVM</h2>

  <p>We suggest to install GraalVM with <a href="https://sdkman.io">sdkman</a></p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sdk install java 20.3.0.r11-grl
</code></pre></div>  </div>

  <p>After having installed GraalVM, you can install the <code class="language-plaintext highlighter-rouge">native-image</code> tool with <code class="language-plaintext highlighter-rouge">gu</code></p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gu <span class="nb">install </span>native-image
</code></pre></div>  </div>

  <h2 id="run-restheart-with-graalvm">Run RESTHeart with GraalVM</h2>

  <p>Check that GraalVM SDK is active:</p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>java <span class="nt">-version</span>
openjdk version <span class="s2">"11.0.9"</span> 2020-10-20
OpenJDK Runtime Environment GraalVM CE 20.3.0 <span class="o">(</span>build 11.0.9+10-jvmci-20.3-b06<span class="o">)</span>
OpenJDK 64-Bit Server VM GraalVM CE 20.3.0 <span class="o">(</span>build 11.0.9+10-jvmci-20.3-b06, mixed mode, sharing<span class="o">)</span>
</code></pre></div>  </div>

  <p>Then just run RESTHeart as usual:</p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>java <span class="nt">-jar</span> restheart.jar etc/restheart.yml <span class="nt">-e</span> etc/default.properties
</code></pre></div>  </div>

  <h2 id="build-restheart-with-default-plugins-as-native-image">Build RESTHeart with default plugins as native image</h2>

  <p>RESTHeart’s <code class="language-plaintext highlighter-rouge">pom.xml</code> includes the <code class="language-plaintext highlighter-rouge">native</code> profile.</p>

  <p>Check that GraalVM SDK is active:</p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>java <span class="nt">-version</span>
openjdk version <span class="s2">"11.0.9"</span> 2020-10-20
OpenJDK Runtime Environment GraalVM CE 20.3.0 <span class="o">(</span>build 11.0.9+10-jvmci-20.3-b06<span class="o">)</span>
OpenJDK 64-Bit Server VM GraalVM CE 20.3.0 <span class="o">(</span>build 11.0.9+10-jvmci-20.3-b06, mixed mode, sharing<span class="o">)</span>
</code></pre></div>  </div>

  <p>You can then simply build it with:</p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout https://github.com/SoftInstigate/restheart.git
<span class="nv">$ </span><span class="nb">cd </span>restheart
<span class="nv">$ </span>mvn clean package <span class="nt">-Pnative</span>
</code></pre></div>  </div>

  <p>As a result, you’ll find the executable binary file <code class="language-plaintext highlighter-rouge">target/restheart-native</code>.</p>

  <h2 id="build-restheart-with-custom-plugins-as-native-image">Build RESTHeart with custom plugins as native image</h2>

  <p>In order to build RESTHeart with custom plugins as native image you use maven to:</p>

  <ul>
    <li>build a uber-jar using the <a href="https://maven.apache.org/plugins/maven-shade-plugin/">Maven Shade Plugin</a></li>
    <li>define a the profile <code class="language-plaintext highlighter-rouge">native</code> that uses the <a href="https://www.graalvm.org/reference-manual/native-image/NativeImageMavenPlugin/">Native Image Maven Plugin</a> to build the native image from the uber-jar</li>
  </ul>

  <p class="bs-callout bs-callout-info">At startup time, RESTHeart dynamically loads the plugins jars found in  the <code class="language-plaintext highlighter-rouge">/plugins</code> directory. Dynamic class loading is simply not possible with GraalVM. This is why you need to package RESTHeart core and all plugins in a uber-jar.</p>

  <p>Define the Maven <code class="language-plaintext highlighter-rouge">native</code> profile following this example <a href="https://github.com/SoftInstigate/web-frameworks/blob/native/java/restheart/pom.xml">pom.xml</a>.</p>

  <p>You can now build the native image with:</p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mvn clean package <span class="nt">-Pnative</span>
</code></pre></div>  </div>

  <p>In order for some java features to work, like reflection, you might need to tweak the native image build properties found in the repo directory <a href="https://github.com/SoftInstigate/restheart/tree/master/core/src/main/resources/META-INF/native-image/org.restheart/restheart">core/src/main/resources/META-INF/native-image/org.restheart/restheart</a>.</p>

  <p>For further information, good starting points are:</p>

  <ul>
    <li><a href="https://www.graalvm.org/reference-manual/native-image/Limitations/">Native Image Compatibility and Optimization Guide</a> on GraalVM website</li>
    <li><a href="https://github.com/SoftInstigate/restheart/blob/master/GRAALVM.md">GRAALVM.md</a> on RESTHeart github repository</li>
  </ul>

  <h2 id="a-docker-image-to-build-linux-native-images">A docker image to build Linux native images</h2>

  <p><a href="https://softinstigate.com">SoftInstigate</a> maintains the Debian based, docker image <a href="https://github.com/SoftInstigate/graalvm-maven-docker">softinstigate/graalvm-maven</a> with GraalVM and Maven and <code class="language-plaintext highlighter-rouge">native-image</code>.</p>

  <p>Use it if you are running a different OS and you need to build a native image for Linux to include it in a Docker image.</p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker pull softinstigate/graalvm-maven
</code></pre></div>  </div>

  <p>You can build a Linux native image with:</p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">-v</span> <span class="s2">"</span><span class="nv">$PWD</span><span class="s2">"</span>:/opt/app  <span class="se">\</span>
    <span class="nt">-v</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">"</span>/.m2:/root/.m2 <span class="se">\</span>
    softinstigate/graalvm-maven <span class="se">\</span>
    clean package <span class="nt">-Pnative</span>
</code></pre></div>  </div>
</div>

    </div>
</div>
    </div>

    <footer class="bs-docs-footer mt-0">
  <!-- <script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https'; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = p + '://platform.twitter.com/widgets.js'; fjs.parentNode.insertBefore(js, fjs); } }(document, 'script', 'twitter-wjs');</script> -->
  <div id="fb-root"></div>
  <section id="mainFooter">
    <div class="container-fluid">
      <div>
        <div class="bs-docs-social">
          <ul class="socialNetwork">
            <li class="ml-auto">
              <a href="https://twitter.com/softinstigate" class="tips" title="Follow us on Twitter" data-original-title="follow us on Twitter"
                target="_blank">
                <svg class="socialNetwork__icon"><use xlink:href="/images/sprite.svg#twitter" /></svg>
              </a>
            </li>
            <li>
              <a href="https://github.com/softinstigate/restheart" class="tips" title="Get the source code" data-original-title="get the source code"
                target="_blank">
                <svg class="socialNetwork__icon"><use xlink:href="/images/sprite.svg#github" /></svg>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div>
        Made with
        <!--<span class="glyphicon glyphicon-heart"></span>-->
        <svg class="footer__like"><use xlink:href="/images/sprite.svg#like" /></svg>
        by
        <a href="https://www.softinstigate.com" target="_blank">SoftInstigate</a>
      </div>
      <div>
        <a href="https://softinstigate.com/en/privacy" class="mr-2 small">Privacy Policy</a>
        <a href="https://www.iubenda.com/privacy-policy/15571002/cookie-policy" class="small iubenda-nostyle no-brand iubenda-embed " title="Cookie Policy">Cookie Policy</a>
      </div>
    </section>
</footer>

    <!-- End Document ================================================== -->
</body>

</html>
<!-- add copy button on code snippet -->
<script src="/assets/js/clipboard.min.js"></script>
<style>
    .listingblock:hover .clipboard {
        display: block;
    }

    .clipboard {
        display: none;
        border: 0;
        font-size: .75em;
        text-transform: uppercase;
        font-weight: 800;
        padding: 2px;
        color: #999;
        position: absolute;
        top: 6px;
        right: 10px;
        background: transparent;
    }

    code + .clipboard {
        padding: 0;
    }

    .clipboard:hover, .clipboard:focus, .clipboard:active {
        outline: 0;
        color: white;
        /* background-color: #eee9e6; */
    }
</style>
<!-- add copy button on code snippet -->
<script>
    window.onload = function() {
        function target(b) {
            var p = b.parentNode;
            if (p.className.includes("highlight")) {
                var elems = p.getElementsByTagName("code");
                if (elems.length > 0) {
                    return elems[0];
                }
            }
            return p.childNodes[0];
        }

        var pre = document.getElementsByTagName('pre');
        for (var i = 0; i < pre.length; i++) {
            var b = document.createElement('button');
            b.className = 'clipboard';
            b.textContent = 'Copy';
            // b.innerHTML = '<i style="font-size:18px" class="icon-clipboard"></i>';
            if (pre[i].childNodes.length === 1 && pre[i].childNodes[0].nodeType === 3) {
                var div = document.createElement('div');
                div.textContent = pre[i].textContent;
                pre[i].textContent = '';
                pre[i].appendChild(div);
            }
            pre[i].appendChild(b);
        }

        var clipboard = new ClipboardJS('.clipboard', {
            // this custom text function, remove any line that doesn't start with $
            text: function (trigger) {
                var t = target(trigger);
                const text = target(trigger).outerText;

                if (text) {
                    const dataLang = t.getAttribute('data-lang');
                    if (dataLang === 'bash') {
                        return text
                            .replace(/^(?!\$.*$).*/gm, '') // remove lines that don't start with $
                            .replace(/^\$ */gm, '') // remove leading $
                            .replace(/^\s*[\r\n]/gm, '') // remove blank lines
                            .replace(/^\s+|\s+$/gm, ''); // trim string
                    }
                }
            },
            target: target
        });
        clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.textContent = 'Copied';
            setTimeout(function() {
                e.trigger.textContent = 'Copy';
            }, 2000);
        });
        clipboard.on('error', function(e) {
            console.error('Action:', e.action, e);
            console.error('Trigger:', e.trigger);
        });
    };
</script>